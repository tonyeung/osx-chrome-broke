(function(){angular.module("dateRangePicker",["pasvaz.bindonce"]);angular.module("dateRangePicker").directive("dateRangePicker",["$compile",function(n){var t,i,r;return r='<div ng-show="visible" class="angular-date-range-picker__picker" ng-click="handlePickerClick($event)">\n  <div class="row">\n  <div class="angular-date-range-picker__timesheet col-md-12">\n    <button ng-click="move(-1, $event)" class="angular-date-range-picker__prev-month">&#9664;<\/button>\n    <div bindonce ng-repeat="month in months" class="angular-date-range-picker__month">\n      <div class="angular-date-range-picker__month-name" bo-text="month.name"><\/div>\n      <table class="angular-date-range-picker__calendar">\n        <tr>\n          <th bindonce ng-repeat="day in month.weeks[1]" class="angular-date-range-picker__calendar-weekday" bo-text="day.date.format(\'dd\')">\n          <\/th>\n        <\/tr>\n        <tr bindonce ng-repeat="week in month.weeks">\n          <td\n              bo-class=\'{\n                "angular-date-range-picker__calendar-day": day,\n                "angular-date-range-picker__calendar-day-selected": day.selected,\n                "angular-date-range-picker__calendar-day-disabled": day.disabled,\n                "angular-date-range-picker__calendar-day-start": day.start\n              }\'\n              ng-repeat="day in week track by $index" ng-click="select(day, $event)" bo-text="day.date.date()">\n          <\/td>\n        <\/tr>\n      <\/table>\n    <\/div>\n    <button ng-click="move(+1, $event)" class="angular-date-range-picker__next-month">&#9654;<\/button>\n  <\/div>\n  <\/div>\n  <div class="row">\n  <div class="angular-date-range-picker__panel">\n    <div class="col-md-4">\n      Select range: <select ng-click="prevent_select($event)" ng-model="quick" ng-options="e.range as e.label for e in quickList"><\/select>\n    <\/div>\n    <div class="angular-date-range-picker__buttons col-md-4 pull-right">\n      <button ng-click="ok($event)" class="angular-date-range-picker__apply pull-right">Apply<\/button>\n      <a ng-click="hide($event)" class="angular-date-range-picker__cancel pull-right">cancel<\/a>\n    <\/div>\n  <\/div>\n  <\/div>\n<\/div>',i=moment().range("2013-01-01","2013-01-02"),t="CUSTOM",{restrict:"AE",replace:!0,template:'<span class="angular-date-range-picker__input">\n  <span ng-show="model">{{ model.start.format("ll") }} - {{ model.end.format("ll") }}<\/span>\n  <span ng-hide="model">Select date range<\/span>\n<\/span>',scope:{model:"=ngModel"},link:function(u,f){var h,o,c,s,e;return u.quickListDefinitions=[{label:"Last week",range:moment().range(moment().subtract(1,"week").startOf("week").startOf("day"),moment().subtract(1,"week").endOf("week").endOf("day"))},{label:"This week",range:moment().range(moment().startOf("week").startOf("day"),moment().endOf("week").startOf("day"))},{label:"Next week",range:moment().range(moment().startOf("week").add(1,"week").startOf("day"),moment().add(1,"week").endOf("week").startOf("day"))},{label:"Last month",range:moment().range(moment().subtract(1,"month").startOf("month").startOf("day"),moment().subtract(1,"month").endOf("month").endOf("day"))},{label:"This month",range:moment().range(moment().startOf("month").startOf("day"),moment().endOf("month").startOf("day"))},{label:"Next month",range:moment().range(moment().startOf("month").add(1,"month").startOf("day"),moment().add(1,"month").endOf("month").startOf("day"))},{label:"Last year",range:moment().range(moment().subtract(1,"year").startOf("year").startOf("day"),moment().subtract(1,"year").endOf("year").endOf("day"))},{label:"This year",range:moment().range(moment().startOf("year").startOf("day"),moment().endOf("year").startOf("day"))},{label:"Next year",range:moment().range(moment().startOf("year").add(1,"year").startOf("day"),moment().add(1,"year").endOf("year").startOf("day"))}],u.quick=null,u.range=null,u.selecting=!1,u.visible=!1,u.start=null,s=function(n){var e,i,o,r,f;for(n==null&&(n=!1),u.quickList=[],n&&u.quickList.push({label:"Custom",range:t}),r=u.quickListDefinitions,f=[],i=0,o=r.length;i<o;i++)e=r[i],f.push(u.quickList.push(e));return f},o=function(){var t,n;return u.range=u.selection?(n=u.selection.start.clone().startOf("month").startOf("day"),t=n.clone().add(1,"months").endOf("month").startOf("day"),moment().range(n,t)):moment().range(moment().startOf("month").subtract(1,"month").startOf("day"),moment().endOf("month").startOf("day"))},c=function(){var n,i,f,r;if(u.selection){for(r=u.quickList,i=0,f=r.length;i<f;i++)if(n=r[i],n.range!==t&&u.selection.start.startOf("day").unix()===n.range.start.startOf("day").unix()&&u.selection.end.startOf("day").unix()===n.range.end.startOf("day").unix()){u.quick=n.range;s();return}return u.quick=t,s(!0)}},e=function(){var t,f,e,n,o,r;for(u.months=[],e=u.range.start.year()*12+u.range.start.month(),f=moment().startOf("week").day(),u.range.by(i,function(n){var t,s,i,r,o,h,c;return t=n.day()-f,t<0&&(t=7+t),i=n.year()*12+n.month()-e,o=parseInt((7+n.date()-t)/7),r=!1,s=!1,u.start?(r=n===u.start,s=n<u.start):r=u.selection&&u.selection.contains(n),(h=u.months)[i]||(h[i]={name:n.format("MMMM YYYY"),weeks:[]}),(c=u.months[i].weeks)[o]||(c[o]=[]),u.months[i].weeks[o][t]={date:n,selected:r,disabled:s,start:u.start&&u.start.unix()===n.unix()}}),r=u.months,n=0,o=r.length;n<o;n++)t=r[n],t.weeks[0]||t.weeks.splice(0,1);return c()},u.show=function(){return u.selection=u.model,o(),e(),u.visible=!0},u.hide=function(n){return n!=null&&typeof n.stopPropagation=="function"&&n.stopPropagation(),u.visible=!1},u.prevent_select=function(n){if(n!=null)return typeof n.stopPropagation=="function"?n.stopPropagation():void 0},u.ok=function(n){return n!=null&&typeof n.stopPropagation=="function"&&n.stopPropagation(),u.model=u.selection,u.hide()},u.select=function(n,t){if(t!=null&&typeof t.stopPropagation=="function"&&t.stopPropagation(),!n.disabled)return u.selecting=!u.selecting,u.selecting?(u.start=n.date,e()):(u.selection=moment().range(u.start,n.date),u.start=null,e())},u.move=function(n,t){return t!=null&&typeof t.stopPropagation=="function"&&t.stopPropagation(),u.range=moment().range(u.range.start.add(n,"months").startOf("month").startOf("day"),u.range.start.clone().add(1,"months").endOf("month").startOf("day")),e()},u.handlePickerClick=function(n){if(n!=null)return typeof n.stopPropagation=="function"?n.stopPropagation():void 0},u.$watch("quick",function(n){if(n&&n!==t)return u.selection=u.quick,u.selecting=!1,u.start=null,o(),e()}),h=n(angular.element(r))(u),f.append(h),f.bind("click",function(n){return n!=null&&typeof n.stopPropagation=="function"&&n.stopPropagation(),u.$apply(function(){return u.visible?u.hide():u.show()})}),angular.element(document).bind("click",function(){return u.$apply(function(){return u.hide()})}),s(),o(),e()}}}])}).call(this);
/*
//# sourceMappingURL=angular-date-range-picker.min.js.map
*/